<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Olga & Oriol — Juegos</title>
<style>
  :root{
    --bg:#f6f4f2;
    --card:#ffffff;
    --muted:#6c7a72;
    --primary:#3d604e;
    --pill:#e6efe9;
    --success-bg:#e8f7ec;
    --success:#1c7c3a;
    --border:#e7e3dd;
    --shadow: 0 6px 16px rgba(0,0,0,.06);
    --radius:14px;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:#2a2a2a;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
  .wrap{max-width:720px;margin:0 auto;padding:20px 16px 28px}

  /* Header */
  header{display:flex;flex-direction:column;align-items:center;gap:12px;margin-top:4px;margin-bottom:18px}
  .logo{height:52px; width:auto; display:block}
  .scorebar{display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap}
  .pill{background:var(--pill); color:var(--primary); padding:8px 14px; border-radius:999px; font-weight:700; letter-spacing:.3px}
  .btn-reset{border:none;background:#fff;border:1px solid var(--border);padding:8px 14px;border-radius:999px;cursor:pointer}
  .btn-reset:hover{filter:brightness(.98)}

  /* Section */
  h2.section{font-size:14px; text-transform:uppercase; letter-spacing:.12em; color:var(--muted); margin:22px 4px 10px}

  /* Card */
  .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px 16px;margin:14px 0}
  .card.success{background:var(--success-bg); border-color:#cfead7}
  .card h3{margin:0 0 6px; font-size:14px; color:var(--muted)}
  .card a.title{display:inline-block; font-weight:800; color:#2e4b3d; text-decoration:none; margin-bottom:6px}
  .card p{margin:8px 0 12px; line-height:1.35}
  .status{display:flex; align-items:center; gap:8px; color:var(--success); font-weight:700}
  .check{width:18px;height:18px;border-radius:4px;border:2px solid var(--success);display:inline-flex;align-items:center;justify-content:center;font-size:14px}

  /* Duel controls */
  .duel{display:flex;flex-direction:column;gap:10px;margin-top:8px}
  .choices{display:flex;gap:10px;flex-wrap:wrap}
  .choice{border:1px solid var(--border); border-radius:10px; padding:10px 12px; background:#fff; display:flex; align-items:center; gap:8px; cursor:pointer}
  .choice input{accent-color:var(--primary)}
  .actions{display:flex; gap:10px; flex-wrap:wrap}
  .btn{border:none;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
  .btn.primary{background:var(--primary);color:#fff}
  .btn.ghost{background:#fff;border:1px solid var(--border)}
  .hint{font-size:12px;color:var(--muted)}

  /* Footer */
  footer{margin-top:24px;text-align:center;color:var(--muted)}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <img src="logo.png" alt="Olga & Oriol — 04.10.2025" class="logo" />
      <div class="scorebar" aria-live="polite">
        <span class="pill" id="uriPill">URI <span id="uriScore">0</span></span>
        <span class="pill" id="olgaPill">OLGA <span id="olgaScore">0</span></span>
        <button class="btn-reset" id="resetAll" type="button">Reset</button>
      </div>
    </header>

    <h2 class="section">Juegos</h2>

    <!-- Las Madrecdotas (ejemplo ya completado) -->
    <article class="card success" id="card-madrecdotas" aria-labelledby="ttl-madre">
      <h3>Emancipación</h3>
      <a class="title" id="ttl-madre" href="#">Las Madrecdotas</a>
      <p>Duelo 1v1. MC lee anécdotas; Uri y Olga adivinan por separado.</p>
      <div class="status"><span class="check">✓</span>Completado</div>
    </article>

    <!-- Bonus Sprite (ejemplo ya completado) -->
    <article class="card success" id="card-sprite" aria-labelledby="ttl-sprite">
      <h3>Emancipación</h3>
      <a class="title" id="ttl-sprite" href="#">Bonus: Exorcismo de Maitreya</a>
      <p>Equipos. Sprite 330 ml sin eructar; rondas rápidas.</p>
      <div class="status"><span class="check">✓</span>Completado</div>
    </article>

    <!-- CORTAR EL CORDÓN — ACTUALIZADO A DUELO URI/OLGA/EMPATE -->
    <article class="card" id="card-cordon" aria-labelledby="ttl-cordon">
      <h3>Emancipación</h3>
      <a class="title" id="ttl-cordon" href="#">Cortar el cordón (doble Human Knot)</a>
      <p><strong>Duelo puntuable.</strong> Aunque se juega en equipos, el punto global es para
        <em>Uri</em> o <em>Olga</em> según quién lidere/mejor resuelva. Puede haber <em>empate</em>.</p>

      <div class="duel" role="group" aria-labelledby="ttl-cordon">
        <div class="choices">
          <label class="choice"><input type="radio" name="cordonWinner" value="URI"> URI gana</label>
          <label class="choice"><input type="radio" name="cordonWinner" value="OLGA"> OLGA gana</label>
          <label class="choice"><input type="radio" name="cordonWinner" value="DRAW"> Empate</label>
        </div>
        <div class="actions">
          <button class="btn primary" id="saveCordon" type="button">Guardar resultado</button>
          <button class="btn ghost" id="clearCordon" type="button">Limpiar</button>
        </div>
        <span class="hint">Selecciona el ganador y guarda para sumar al marcador global.</span>
      </div>

      <div class="status" id="cordonDone" style="display:none;margin-top:6px;">
        <span class="check">✓</span>Completado
      </div>
    </article>

    <!-- Banco de Microbiotas (ejemplo ya completado) -->
    <article class="card success" id="card-micro" aria-labelledby="ttl-micro">
      <h3>Introducción de Olga al clan</h3>
      <a class="title" id="ttl-micro" href="#">Banco de Microbiotas</a>
      <p>Duelo 1v1. A ciegas, tocar y adivinar contenidos.</p>
      <div class="status"><span class="check">✓</span>Completado</div>
    </article>

    <footer>Hecho con ❤️ para Olga &amp; Oriol.</footer>
  </div>

<script>
  // --- util persistencia simple ---
  const SKEY = 'oo_scores_v1';
  const CKEY = 'cordon_result_v1';

  const $ = (q)=>document.querySelector(q);
  const uriScoreEl = $('#uriScore');
  const olgaScoreEl = $('#olgaScore');

  function loadScores(){
    try{
      const s = JSON.parse(localStorage.getItem(SKEY) || '{"uri":0,"olga":0}');
      return {uri:+s.uri||0, olga:+s.olga||0};
    }catch{ return {uri:0, olga:0}; }
  }
  function saveScores({uri,olga}){
    localStorage.setItem(SKEY, JSON.stringify({uri,olga}));
  }
  function renderScores(){
    const s = loadScores();
    uriScoreEl.textContent = s.uri;
    olgaScoreEl.textContent = s.olga;
  }
  renderScores();

  // Reset global
  $('#resetAll').addEventListener('click', ()=>{
    if(!confirm('¿Reiniciar marcador global?')) return;
    saveScores({uri:0,olga:0});
    localStorage.removeItem(CKEY);
    // limpiar estado de la carta
    document.querySelectorAll('input[name="cordonWinner"]').forEach(i=>{
      i.checked=false; i.disabled=false;
    });
    $('#cordonDone').style.display='none';
    $('#card-cordon').classList.remove('success');
    renderScores();
  });

  // --- lógica del duelo "Cortar el cordón" ---
  function markCordonDone(){
    $('#card-cordon').classList.add('success');
    $('#cordonDone').style.display='flex';
    document.querySelectorAll('input[name="cordonWinner"]').forEach(i=>i.disabled=true);
  }
  // cargar estado previo
  (function initCordon(){
    const prev = localStorage.getItem(CKEY);
    if(prev){
      const val = prev;
      const input = document.querySelector(`input[name="cordonWinner"][value="${val}"]`);
      if(input){ input.checked=true; markCordonDone(); }
    }
  })();

  $('#saveCordon').addEventListener('click', ()=>{
    const sel = document.querySelector('input[name="cordonWinner"]:checked');
    if(!sel){ alert('Selecciona un resultado.'); return; }
    const val = sel.value; // URI | OLGA | DRAW
    const s = loadScores();
    if(!localStorage.getItem(CKEY)){ // solo sumar la primera vez
      if(val === 'URI') s.uri += 1;
      if(val === 'OLGA') s.olga += 1;
      // Empate no suma
      saveScores(s);
      renderScores();
    }
    localStorage.setItem(CKEY, val);
    markCordonDone();
  });

  $('#clearCordon').addEventListener('click', ()=>{
    const prev = localStorage.getItem(CKEY);
    if(!prev) { 
      document.querySelectorAll('input[name="cordonWinner"]').forEach(i=>i.checked=false);
      return; 
    }
    if(!confirm('¿Quitar resultado y ajustar marcador?')) return;
    // revertir suma si no fue empate
    const s = loadScores();
    if(prev === 'URI' && s.uri>0) s.uri -= 1;
    if(prev === 'OLGA' && s.olga>0) s.olga -= 1;
    saveScores(s); renderScores();

    localStorage.removeItem(CKEY);
    document.querySelectorAll('input[name="cordonWinner"]').forEach(i=>{
      i.checked=false; i.disabled=false;
    });
    $('#card-cordon').classList.remove('success');
    $('#cordonDone').style.display='none';
  });
</script>
</body>
</html>
